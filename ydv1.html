<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>VIP MASTER HUD</title>
  <style>
    /* 
      ========================================
      GLOBAL SETTINGS
      ========================================
    */
    * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      overflow: hidden;
      background: #000;
      user-select: none;
    }

    /* Background Frame */
    iframe.bg-site {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      border: none;
      z-index: 1;
    }

    /* 
      ========================================
      1. FLOATING ICON (Fixed Text)
      ========================================
    */
    #float-btn {
      position: fixed;
      bottom: 20%;
      right: 15px;
      width: 60px;
      height: 60px;
      background: #000;
      border: 2px solid #d4af37; /* Gold Border */
      border-radius: 50%;
      z-index: 10001;
      display: none; /* Initially Hidden */
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
      cursor: pointer;
      touch-action: none;
      overflow: hidden;
    }

    #float-btn span {
      color: #d4af37;
      font-size: 8px; /* Perfectly sized */
      text-align: center;
      font-weight: 800;
      line-height: 1.1;
      width: 90%;
      word-wrap: break-word; /* Wraps long text */
      text-transform: uppercase;
    }

    /* 
      ========================================
      2. PREMIUM SHARE MODAL
      ========================================
    */
    #share-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.92);
      z-index: 99999;
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }

    .modal-box {
      background: #111;
      width: 85%;
      max-width: 280px;
      padding: 25px;
      border-radius: 15px;
      border: 1px solid #d4af37;
      text-align: center;
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
    }

    .modal-box h2 {
      color: #d4af37;
      font-size: 18px;
      margin-bottom: 10px;
      text-transform: uppercase;
    }

    .modal-box p {
      color: #ccc;
      font-size: 12px;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .action-btn {
      background: linear-gradient(135deg, #d4af37, #b8860b);
      color: #000;
      border: none;
      padding: 12px;
      width: 100%;
      border-radius: 8px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
      transition: transform 0.1s;
    }

    .action-btn:active { transform: scale(0.95); }

    .progress-area {
      margin-top: 15px;
      background: #222;
      height: 5px;
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #2ed573;
      width: 0%;
      transition: width 0.3s;
    }

    .status-txt {
      margin-top: 8px;
      font-size: 11px;
      color: #888;
      font-weight: bold;
    }

    /* 
      ========================================
      3. COMPACT HUD WIDGET
      ========================================
    */
    #widget {
      position: fixed;
      top: 100px; left: 20px;
      background: rgba(15, 15, 15, 0.95);
      border: 1px solid #333;
      border-radius: 50px;
      padding: 5px 15px;
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      z-index: 10000;
      box-shadow: 0 5px 20px rgba(0,0,0,0.6);
      min-width: 210px;
      height: 55px;
      touch-action: none;
    }

    .info-col { display: flex; flex-direction: column; }
    .label { font-size: 8px; color: #777; letter-spacing: 0.5px; }
    .val-period { font-size: 12px; color: #00d2d3; font-family: monospace; font-weight: bold; }
    
    .val-pred {
      flex: 1; text-align: center;
      font-size: 19px; font-weight: 900;
      color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.2);
    }

    .timer-ring {
      width: 36px; height: 36px;
      border-radius: 50%;
      border: 2px solid #2ed573;
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: bold; color: white;
    }

    /* 
      ========================================
      4. TOAST NOTIFICATION
      ========================================
    */
    #toast {
      position: fixed; top: -100px; left: 50%;
      transform: translateX(-50%);
      background: #1a1a1a;
      border: 1px solid #d4af37;
      color: #fff; padding: 10px 20px;
      border-radius: 30px; z-index: 30000;
      font-size: 11px; display: flex; gap: 10px; align-items: center;
      transition: top 0.5s; width: max-content;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }
    #toast button {
      background: #d4af37; color: #000; padding: 4px 10px; border: none;
      border-radius: 10px; font-weight: bold; font-size: 10px; cursor: pointer;
    }

  </style>
</head>
<body>

  <iframe class="bg-site" src="https://amarclub17.com/#/register?invitationCode=588351031999"></iframe>

  <!-- SHARE MODAL -->
  <div id="share-modal">
    <div class="modal-box">
      <h2>VIP ACCESS</h2>
      <p>Share this tool to <strong>3 Friends/Apps</strong> to unlock the AI Prediction HUD.</p>
      
      <button class="action-btn" id="share-btn">SHARE NOW</button>

      <div class="progress-area"><div class="progress-fill" id="p-fill"></div></div>
      <div class="status-txt" id="s-txt">0/3 Shared</div>
    </div>
  </div>

  <!-- WIDGET -->
  <div id="widget">
    <div class="info-col">
      <span class="label">PERIOD</span>
      <span class="val-period" id="period">...</span>
    </div>
    <div class="val-pred" id="prediction">--</div>
    <div class="timer-ring" id="timer">60</div>
  </div>

  <!-- FLOATING ICON -->
  <div id="float-btn">
    <span>Apkmodderkings</span>
  </div>

  <!-- TOAST MSG -->
  <div id="toast">
    <span>ðŸ”¥ Join VIP Channel Free!</span>
    <button id="toast-join">JOIN</button>
  </div>

<script>
/*
  CONFIGURATION
*/
const TARGET_URL = "https://telegram.me/apkmodderkings";
const SHARE_MSG = "Join this channel for free everything ðŸ‘‡\nhttps://telegram.me/apkmodderkings";
const REQUIRED_SHARES = 3;

// Elements
const shareModal = document.getElementById('share-modal');
const shareBtn = document.getElementById('share-btn');
const pFill = document.getElementById('p-fill');
const sTxt = document.getElementById('s-txt');
const widget = document.getElementById('widget');
const floatBtn = document.getElementById('float-btn');

/*
  1. NATIVE SHARE SYSTEM (SYSTEM APPS)
*/
let shareCount = 0;

shareBtn.addEventListener('click', async () => {
  const shareData = {
    title: 'VIP Hack Tool',
    text: SHARE_MSG,
    url: TARGET_URL
  };

  try {
    // Attempt Native Share (All Apps)
    if (navigator.share) {
      await navigator.share(shareData);
      handleShareSuccess(); // Count if share triggers
    } else {
      // Fallback for Desktop/Unsupported (Opens Telegram)
      window.open(`https://telegram.me/share/url?url=${encodeURIComponent(TARGET_URL)}&text=${encodeURIComponent(SHARE_MSG)}`, '_blank');
      handleShareSuccess(); // Count fallback
    }
  } catch (err) {
    // Even if user cancels the share dialog, we count it 
    // to avoid user getting stuck (Better User Experience)
    console.log("Share dismissed or failed", err);
    handleShareSuccess();
  }
});

function handleShareSuccess() {
  // Simulate verification delay
  shareBtn.textContent = "VERIFYING...";
  shareBtn.style.opacity = "0.8";
  
  setTimeout(() => {
    shareCount++;
    const percent = (shareCount / REQUIRED_SHARES) * 100;
    pFill.style.width = percent + "%";
    
    if (shareCount >= REQUIRED_SHARES) {
      sTxt.textContent = "UNLOCK SUCCESSFUL!";
      sTxt.style.color = "#2ed573";
      shareBtn.textContent = "OPENING...";
      
      localStorage.setItem('vip_unlock_time', Date.now());
      setTimeout(unlockApp, 1500);
    } else {
      sTxt.textContent = `${shareCount}/${REQUIRED_SHARES} Shared`;
      shareBtn.textContent = "SHARE AGAIN";
      shareBtn.style.opacity = "1";
    }
  }, 1500); // 1.5s delay
}

/*
  2. APP LOGIC & UNLOCK
*/
function checkUnlock() {
  const saved = localStorage.getItem('vip_unlock_time');
  if (saved && (Date.now() - saved < 6 * 60 * 60 * 1000)) {
    unlockApp();
  } else {
    shareModal.style.display = 'flex';
  }
}

function unlockApp() {
  shareModal.style.display = 'none';
  floatBtn.style.display = 'flex'; // Show fixed floating icon
  widget.style.display = 'flex';
  startPredictionLogic();
}

checkUnlock();

/*
  3. GAME LOGIC (Timer/Prediction)
*/
let lastPeriodStr = "";

function startPredictionLogic() {
  setInterval(() => {
    const now = new Date();
    
    // Period ID
    const d = now.toISOString().slice(0,10).replace(/-/g,'');
    const m = now.getUTCHours()*60 + now.getUTCMinutes();
    const period = `${d}1000${10001+m}`;
    document.getElementById('period').textContent = period.slice(-5);

    // Timer
    const sec = 60 - now.getSeconds();
    const tEl = document.getElementById('timer');
    tEl.textContent = sec;
    
    if(sec <= 10) {
      tEl.style.borderColor = "#ff4757"; tEl.style.color = "#ff4757";
    } else {
      tEl.style.borderColor = "#2ed573"; tEl.style.color = "white";
    }

    // Prediction
    if(period !== lastPeriodStr) {
      const num = parseInt(period.slice(-3));
      // Random Logic Mockup
      const res = (num % 2 === 0) ? "SMALL" : "BIG";
      
      const pEl = document.getElementById('prediction');
      pEl.textContent = res;
      pEl.style.color = res === "BIG" ? "#d4af37" : "#00d2d3";
      
      lastPeriodStr = period;
    }
  }, 1000);
}

/*
  4. DRAG LOGIC (SMOOTH & SEPARATE CLICK)
*/
function makeDraggable(el) {
  let isDrag = false;
  let startX, startY, initX, initY;

  el.addEventListener('touchstart', (e) => {
    const t = e.touches[0];
    startX = t.clientX; startY = t.clientY;
    initX = el.offsetLeft; initY = el.offsetTop;
    isDrag = false;
  }, {passive:false});

  el.addEventListener('touchmove', (e) => {
    const t = e.touches[0];
    const dx = t.clientX - startX;
    const dy = t.clientY - startY;
    if(Math.abs(dx)>5 || Math.abs(dy)>5) {
      isDrag = true;
      el.style.left = `${initX + dx}px`;
      el.style.top = `${initY + dy}px`;
      el.style.bottom = 'auto'; el.style.right = 'auto';
    }
  }, {passive:false});

  // Handle Click (Only if NOT dragged)
  el.addEventListener('touchend', () => {
    if(!isDrag && el.id === 'float-btn') {
      widget.style.display = (widget.style.display === 'flex') ? 'none' : 'flex';
    }
  });
  
  // Desktop Click
  el.addEventListener('click', () => {
    if(!isDrag && el.id === 'float-btn') {
      widget.style.display = (widget.style.display === 'flex') ? 'none' : 'flex';
    }
  });
}

makeDraggable(floatBtn);
makeDraggable(widget);

/*
  5. TOAST NOTIFICATION (10 Mins)
*/
const toast = document.getElementById('toast');
document.getElementById('toast-join').addEventListener('click', () => {
  window.open(TARGET_URL, '_blank');
  toast.style.top = "-100px";
});

setInterval(() => {
  toast.style.top = "20px";
  setTimeout(() => toast.style.top = "-100px", 5000);
}, 600000); // 10 Minutes

</script>
</body>
</html>